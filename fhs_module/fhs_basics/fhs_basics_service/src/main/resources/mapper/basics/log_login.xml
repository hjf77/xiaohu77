<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fhs.basics.mapper.LogLoginMapper">


    <select id="getLoginIogSummary" resultType="com.fhs.basics.vo.LogLoginVO">
        SELECT
            u.user_name userName,
	        l.log_id,
            l.login_name loginName,
            l.user_id userId,
            count(*) count
        FROM
        t_log_login l
        LEFT JOIN t_ucenter_ms_user u on u.user_id = l.user_id
        where l.is_delete = 0
        and l.create_time <![CDATA[ >= ]]> #{statTime}
        and l.create_time <![CDATA[ <= ]]> #{endTime}
        GROUP BY l.user_id
        ORDER BY count DESC
        LIMIT 20
    </select>
</mapper>